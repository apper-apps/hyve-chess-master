@import 'react-toastify/dist/ReactToastify.css';
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    font-family: 'Inter', sans-serif;
    background-color: theme('colors.chess-bg');
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Playfair Display', serif;
  }
}

@layer components {
  .chess-square {
    @apply relative w-square-xs h-square-xs xs:w-square-sm xs:h-square-sm sm:w-square-md sm:h-square-md lg:w-square-lg lg:h-square-lg flex items-center justify-center transition-all duration-200 touch-manipulation;
  }
  
  .chess-square.light {
    @apply bg-chess-light bg-wood-grain;
  }
  
  .chess-square.dark {
    @apply bg-chess-dark bg-wood-grain;
  }
  
  .chess-square.highlighted {
    @apply ring-2 ring-chess-accent ring-opacity-75 animate-bounce-subtle;
  }
  
  .chess-square.valid-move::after {
    @apply content-[''] absolute w-3 h-3 bg-chess-accent rounded-full opacity-60 animate-drop-hint;
  }
  
  .chess-square.capture-move::after {
    @apply content-[''] absolute inset-0 border-4 border-chess-accent rounded-full opacity-60 animate-drop-hint;
  }
  
  .chess-square.drag-over {
    @apply ring-4 ring-drop-zone ring-opacity-75 bg-opacity-80 animate-drag-enter;
  }
  
  .chess-square.drop-zone {
    @apply ring-2 ring-chess-accent ring-opacity-50;
  }
  
  .chess-piece {
    @apply cursor-grab active:cursor-grabbing transition-all duration-200 select-none z-10 drop-shadow-sm touch-manipulation;
  }
  
  .chess-piece:hover {
    @apply animate-piece-hover drop-shadow-md;
  }
  
  .chess-piece.dragging {
    @apply cursor-grabbing transform scale-110 drop-shadow-xl z-50 opacity-80;
  }
  
  .chess-piece.drag-preview {
    @apply transform scale-125 drop-shadow-2xl z-50 opacity-90 pointer-events-none;
  }
  
  .chess-piece.disabled {
    @apply cursor-not-allowed opacity-50 pointer-events-none;
  }
  
  .captured-piece {
    @apply opacity-60 transform scale-75;
  }
  
  .game-button {
    @apply px-3 py-2 xs:px-4 xs:py-2 sm:px-6 sm:py-3 bg-gradient-to-r from-chess-dark to-chess-light text-white font-semibold rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 touch-manipulation;
  }
  
  .status-card {
    @apply bg-chess-surface p-3 xs:p-4 rounded-lg shadow-md border border-chess-light border-opacity-30;
  }
  
  .mobile-panel {
    @apply bg-chess-surface rounded-lg shadow-lg border border-chess-light border-opacity-30 transition-all duration-300;
  }
  
  .mobile-panel.collapsed {
    @apply max-h-12 overflow-hidden;
  }
  
  .mobile-panel.expanded {
    @apply max-h-96;
  }
  
  .drag-ghost {
    @apply opacity-50 pointer-events-none;
  }
  
  .board-container {
    @apply w-board-xs h-board-xs xs:w-board-sm xs:h-board-sm sm:w-board-md sm:h-board-md lg:w-board-lg lg:h-board-lg;
  }
}

/* Touch and Drag Enhancements */
@media (hover: none) and (pointer: coarse) {
  .chess-piece:hover {
    @apply transform-none drop-shadow-sm;
  }
  
  .chess-square:hover {
    @apply transform-none;
  }
}

/* Drag and Drop Utilities */
.drag-active .chess-square.valid-move {
  @apply ring-2 ring-chess-accent ring-opacity-50 animate-pulse;
}

.drag-active .chess-piece:not(.dragging) {
  @apply opacity-70;
}

/* Toast Customization */
.Toastify__toast-container {
  @apply top-4 right-4 left-4 xs:left-auto xs:right-4;
}

.Toastify__toast {
  @apply rounded-lg shadow-lg min-h-0 p-3 font-body text-sm xs:text-base;
}

.Toastify__toast--success {
  @apply bg-chess-success text-white;
}

.Toastify__toast--error {
  @apply bg-chess-error text-white;
}

.Toastify__toast--info {
  @apply bg-chess-info text-white;
}

.Toastify__toast--warning {
  @apply bg-chess-warning text-white;
}

.Toastify__progress-bar {
  @apply bg-white bg-opacity-20;
}